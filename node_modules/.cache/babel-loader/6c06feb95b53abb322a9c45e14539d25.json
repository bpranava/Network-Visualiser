{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Builder = require(\"../Builder\"); //This curly brace function was\n//made by Alex Hornbake\n//http://bl.ocks.org/alexhornbake/6005176\n\n\nfunction makeCurlyBrace(x1, y1, x2, y2, w, q) {\n  //Calculate unit vector\n  var dx = x1 - x2;\n  var dy = y1 - y2;\n  var len = Math.sqrt(dx * dx + dy * dy);\n  dx = dx / len;\n  dy = dy / len; //Calculate Control Points of path,\n\n  var qx1 = x1 + q * w * dy;\n  var qy1 = y1 - q * w * dx;\n  var qx2 = x1 - 0.25 * len * dx + (1 - q) * w * dy;\n  var qy2 = y1 - 0.25 * len * dy - (1 - q) * w * dx;\n  var tx1 = x1 - 0.5 * len * dx + w * dy;\n  var ty1 = y1 - 0.5 * len * dy - w * dx;\n  var qx3 = x2 + q * w * dy;\n  var qy3 = y2 - q * w * dx;\n  var qx4 = x1 - 0.75 * len * dx + (1 - q) * w * dy;\n  var qy4 = y1 - 0.75 * len * dy - (1 - q) * w * dx;\n  return \"M \" + x1 + \" \" + y1 + \" Q \" + qx1 + \" \" + qy1 + \" \" + qx2 + \" \" + qy2 + \" T \" + tx1 + \" \" + ty1 + \" M \" + x2 + \" \" + y2 + \" Q \" + qx3 + \" \" + qy3 + \" \" + qx4 + \" \" + qy4 + \" T \" + tx1 + \" \" + ty1;\n}\n\nexports.default = function (_ref) {\n  var height = _ref.height,\n      width = _ref.width,\n      depth = _ref.depth,\n      type = _ref.type,\n      editMode = _ref.editMode;\n  var handles = [];\n  var data = void 0;\n  var bracket = void 0;\n  var w = 0,\n      h = 0;\n\n  if (height && height > 0) {\n    h = height;\n  } else if (width && width > 0) {\n    w = width;\n  }\n\n  if (type === \"square\") {\n    if (h) {\n      data = [[0, 0], [depth, 0], [depth, h], [0, h]];\n    } else if (w) {\n      data = [[0, 0], [0, depth], [w, depth], [w, 0]];\n    }\n\n    bracket = (0, _Builder.lineBuilder)({\n      data: data,\n      className: \"subject\"\n    });\n  } else if (type === \"curly\") {\n    bracket = (0, _Builder.pathBuilder)({\n      d: makeCurlyBrace(0, 0, w, h, h > 0 || w < 0 ? -depth : depth, 0.55),\n      className: \"subject\"\n    });\n  }\n\n  if (editMode) {\n    handles = [{\n      x: h ? depth : w / 2,\n      y: h ? h / 2 : depth,\n      key: \"depth\",\n      type: h ? \"X\" : \"Y\"\n    }, {\n      x: w || 0,\n      y: h || 0,\n      key: h ? \"height\" : \"width\"\n    }];\n  }\n\n  bracket.attrs[\"fill-opacity\"] = 0.1;\n  return {\n    components: [bracket],\n    handles: handles\n  };\n};","map":{"version":3,"sources":["/home/pranava/Desktop/network_visualiser/node_modules/viz-annotation/lib/Subject/bracket.js"],"names":["Object","defineProperty","exports","value","_Builder","require","makeCurlyBrace","x1","y1","x2","y2","w","q","dx","dy","len","Math","sqrt","qx1","qy1","qx2","qy2","tx1","ty1","qx3","qy3","qx4","qy4","default","_ref","height","width","depth","type","editMode","handles","data","bracket","h","lineBuilder","className","pathBuilder","d","x","y","key","attrs","components"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Builder = require(\"../Builder\");\n\n//This curly brace function was\n//made by Alex Hornbake\n//http://bl.ocks.org/alexhornbake/6005176\nfunction makeCurlyBrace(x1, y1, x2, y2, w, q) {\n  //Calculate unit vector\n  var dx = x1 - x2;\n  var dy = y1 - y2;\n  var len = Math.sqrt(dx * dx + dy * dy);\n  dx = dx / len;\n  dy = dy / len;\n\n  //Calculate Control Points of path,\n  var qx1 = x1 + q * w * dy;\n  var qy1 = y1 - q * w * dx;\n  var qx2 = x1 - 0.25 * len * dx + (1 - q) * w * dy;\n  var qy2 = y1 - 0.25 * len * dy - (1 - q) * w * dx;\n  var tx1 = x1 - 0.5 * len * dx + w * dy;\n  var ty1 = y1 - 0.5 * len * dy - w * dx;\n  var qx3 = x2 + q * w * dy;\n  var qy3 = y2 - q * w * dx;\n  var qx4 = x1 - 0.75 * len * dx + (1 - q) * w * dy;\n  var qy4 = y1 - 0.75 * len * dy - (1 - q) * w * dx;\n\n  return \"M \" + x1 + \" \" + y1 + \" Q \" + qx1 + \" \" + qy1 + \" \" + qx2 + \" \" + qy2 + \" T \" + tx1 + \" \" + ty1 + \" M \" + x2 + \" \" + y2 + \" Q \" + qx3 + \" \" + qy3 + \" \" + qx4 + \" \" + qy4 + \" T \" + tx1 + \" \" + ty1;\n}\n\nexports.default = function (_ref) {\n  var height = _ref.height,\n      width = _ref.width,\n      depth = _ref.depth,\n      type = _ref.type,\n      editMode = _ref.editMode;\n\n  var handles = [];\n  var data = void 0;\n  var bracket = void 0;\n\n  var w = 0,\n      h = 0;\n\n  if (height && height > 0) {\n    h = height;\n  } else if (width && width > 0) {\n    w = width;\n  }\n\n  if (type === \"square\") {\n    if (h) {\n      data = [[0, 0], [depth, 0], [depth, h], [0, h]];\n    } else if (w) {\n      data = [[0, 0], [0, depth], [w, depth], [w, 0]];\n    }\n    bracket = (0, _Builder.lineBuilder)({ data: data, className: \"subject\" });\n  } else if (type === \"curly\") {\n    bracket = (0, _Builder.pathBuilder)({\n      d: makeCurlyBrace(0, 0, w, h, h > 0 || w < 0 ? -depth : depth, 0.55),\n      className: \"subject\"\n    });\n  }\n\n  if (editMode) {\n    handles = [{\n      x: h ? depth : w / 2,\n      y: h ? h / 2 : depth,\n      key: \"depth\",\n      type: h ? \"X\" : \"Y\"\n    }, {\n      x: w || 0,\n      y: h || 0,\n      key: h ? \"height\" : \"width\"\n    }];\n  }\n\n  bracket.attrs[\"fill-opacity\"] = 0.1;\n  return { components: [bracket], handles: handles };\n};"]},"metadata":{},"sourceType":"script"}